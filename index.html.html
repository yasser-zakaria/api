<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>توليد سكريبت لفيديو يوتيوب</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      padding: 30px;
      background-color: #f0f0f0;
      color: #333;
    }
    textarea, input, button {
      width: 100%;
      padding: 15px;
      margin: 10px 0;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      background-color: #007bff;
      color: white;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background-color: #0056b3;
    }
    #output {
      white-space: pre-wrap;
      background-color: #fff;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 10px;
      min-height: 150px;
    }
  </style>
</head>
<body>

  <h2>🎬 توليد سكريبت لفيديو يوتيوب باستخدام Gemini</h2>

  <label>🔑 مفتاح Gemini API:</label>
  <input type="text" id="apiKey" placeholder="ادخل مفتاح Gemini هنا" />

  <label>💡 فكرة الفيديو:</label>
  <textarea id="idea" rows="4" placeholder="اكتب فكرة الفيديو هنا..."></textarea>

  <button onclick="generateScript()">🎤 توليد السكريبت</button>

  <h3>📄 السكريبت الناتج:</h3>
  <div id="output">...</div>

  <script>
    async function generateScript() {
      const apiKey = document.getElementById('apiKey').value.trim();
      const idea = document.getElementById('idea').value.trim();
      const outputDiv = document.getElementById('output');

      if (!apiKey || !idea) {
        outputDiv.innerText = "⛔ من فضلك أدخل المفتاح والفكرة.";
        return;
      }

      outputDiv.innerText = "⏳ جاري توليد السكريبت...";

      try {
        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${apiKey}`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            contents: [
              {
                parts: [
                  {
                    text: `اكتب سكريبت احترافي لفيديو يوتيوب عن: ${idea}`
                  }
                ]
              }
            ]
          })
        });

        const data = await response.json();

        if (data.candidates && data.candidates.length > 0) {
          outputDiv.innerText = data.candidates[0].content.parts[0].text;
        } else {
          outputDiv.innerText = "❌ لم يتم توليد سكريبت. تحقق من المفتاح أو الفكرة.";
        }

      } catch (err) {
        console.error(err);
        outputDiv.innerText = "⚠️ حدث خطأ أثناء الاتصال بـ Gemini API.";
      }
    }
  </script>

</body>
</html>
